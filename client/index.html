<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mentra - AI-Orchestrated Group Therapy</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo">
          <span class="logo-icon">üåø</span>
          <span class="logo-text">Mentra</span>
        </div>
        <div class="nav-links">
          <button class="nav-link" onclick="showScreen('landing')">Home</button>
          <button class="nav-link" onclick="showScreen('groups')">Browse Groups</button>
        </div>
      </div>
    </nav>

    <main>
      <section id="landing" class="screen active">
        <div class="landing-container">
          <div class="hero-section">
            <h1 class="hero-title">Find Your Support Circle</h1>
            <p class="hero-subtitle">AI-guided matching to connect you with the right group therapy experience. Human-led care, always.</p>
            
            <div class="cta-container">
              <button class="cta-button primary" onclick="startAIChat()">
                <span class="cta-icon">üí¨</span>
                Talk to AI
              </button>
              <button class="cta-button secondary" onclick="showScreen('groups')">
                <span class="cta-icon">üìã</span>
                Browse Groups
              </button>
            </div>

            <div class="trust-indicators">
              <div class="trust-item">
                <span class="trust-icon">üë•</span>
                <span>Human-led care</span>
              </div>
              <div class="trust-item">
                <span class="trust-icon">üîí</span>
                <span>Private & secure</span>
              </div>
              <div class="trust-item">
                <span class="trust-icon">‚öïÔ∏è</span>
                <span>AI does not diagnose</span>
              </div>
            </div>
          </div>

          <div class="features-section">
            <div class="feature-card">
              <div class="feature-icon">üß†</div>
              <h3>AI-Guided Intake</h3>
              <p>Share your story naturally. Our AI helps identify themes and matches you with suitable groups.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üéØ</div>
              <h3>Smart Matching</h3>
              <p>Get personalized group recommendations based on your goals, challenges, and preferences.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">ü§ù</div>
              <h3>Group Sessions</h3>
              <p>Join small, supportive groups led by licensed therapists. Book your seat today.</p>
            </div>
          </div>
        </div>
      </section>

      <section id="consent" class="screen">
        <div class="consent-container">
          <div class="consent-card">
            <h2 class="consent-title">Before We Begin</h2>
            <div class="consent-content">
              <p class="consent-text">To use our AI assistant, please read and agree to the following:</p>
              
              <div class="safety-notice">
                <h4>üõ°Ô∏è Important Safety Information</h4>
                <ul class="safety-list">
                  <li>This platform is a demo/prototype, not a medical system</li>
                  <li>AI provides recommendations, not diagnoses or medical advice</li>
                  <li>All clinical decisions are made by licensed therapists</li>
                  <li>If you're in crisis, please contact emergency services</li>
                  <li>Your conversations are processed for matching purposes only</li>
                </ul>
              </div>

              <div class="consent-checkbox-container">
                <label class="consent-checkbox-label">
                  <input type="checkbox" id="consent-checkbox" onchange="toggleConsentButton()">
                  <span>I understand and agree to these terms</span>
                </label>
              </div>

              <button id="consent-button" class="cta-button primary" onclick="proceedToChat()" disabled>
                Continue to Chat
              </button>
              
              <button class="text-button" onclick="showScreen('landing')">
                ‚Üê Back to Home
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="chat" class="screen">
        <div class="chat-container">
          <div class="chat-header">
            <h2>Mentra Assistant</h2>
            <p class="chat-subtitle">I'm here to listen and help you find the right support</p>
          </div>

          <div class="intake-progress">
            <div class="progress-title">Intake Progress</div>
            <div class="progress-steps">
              <div class="progress-step" data-step="concern">
                <span class="step-icon">1</span>
                <span class="step-label">Concern</span>
              </div>
              <div class="progress-step" data-step="context">
                <span class="step-icon">2</span>
                <span class="step-label">Context</span>
              </div>
              <div class="progress-step" data-step="goals">
                <span class="step-icon">3</span>
                <span class="step-label">Goals</span>
              </div>
              <div class="progress-step" data-step="challenges">
                <span class="step-icon">4</span>
                <span class="step-label">Challenges</span>
              </div>
              <div class="progress-step" data-step="preferences">
                <span class="step-icon">5</span>
                <span class="step-label">Preferences</span>
              </div>
            </div>
          </div>

          <div class="chat-messages" id="chat-messages">
            <div class="message bot">
              <div class="message-content">
                <p>Hi there. I'm glad you're here. Taking this step shows real strength.</p>
                <p>What brings you to Mentra today? What's been on your mind lately?</p>
              </div>
            </div>
          </div>

          <div class="chat-input-container">
            <textarea 
              id="chat-input" 
              class="chat-input" 
              placeholder="Type your message here..."
              rows="2"
              onkeydown="handleChatKeydown(event)"
            ></textarea>
            <button class="send-button" onclick="sendMessage()">
              <span>Send</span>
            </button>
          </div>

          <div class="chat-actions">
            <button class="action-button" onclick="showScreen('groups')">
              Browse All Groups
            </button>
            <button class="action-button primary" id="book-recommended-btn" onclick="bookRecommendedGroup()" style="display: none;">
              Book Recommended Group
            </button>
          </div>
        </div>
      </section>

      <section id="profile" class="screen">
        <div class="profile-container">
          <div class="profile-header">
            <h2>Your Profile</h2>
            <p class="profile-subtitle">Based on our conversation</p>
          </div>

          <div class="profile-content">
            <div class="profile-section">
              <h3>Themes</h3>
              <div class="pill-tags" id="profile-themes">
                <span class="pill">Anxiety</span>
                <span class="pill">Work Stress</span>
              </div>
            </div>

            <div class="profile-section">
              <h3>Main Concern</h3>
              <p id="profile-concern">Managing work-related anxiety and finding balance</p>
            </div>

            <div class="profile-section">
              <h3>Your Goals</h3>
              <ul id="profile-goals" class="profile-list">
                <li>Develop coping strategies</li>
                <li>Connect with others facing similar challenges</li>
              </ul>
            </div>

            <div class="profile-section">
              <h3>Challenges</h3>
              <ul id="profile-challenges" class="profile-list">
                <li>Racing thoughts at night</li>
                <li>Difficulty setting boundaries</li>
              </ul>
            </div>

            <div class="profile-section">
              <h3>Preferences</h3>
              <div class="preferences-grid">
                <div class="preference-item">
                  <span class="preference-label">Format:</span>
                  <span id="profile-format">Group sessions</span>
                </div>
                <div class="preference-item">
                  <span class="preference-label">Timing:</span>
                  <span id="profile-timing">Evenings</span>
                </div>
              </div>
            </div>

            <div class="profile-section recommended-section">
              <h3>Recommended Groups</h3>
              <div id="recommended-groups-container">
                <p class="loading-text">Loading your personalized recommendations...</p>
              </div>
            </div>

            <div class="safety-note">
              <p>‚ö†Ô∏è <strong>Note:</strong> This profile is for matching purposes only and does not constitute a medical diagnosis or treatment plan.</p>
            </div>

            <div class="profile-actions">
              <button class="cta-button secondary" onclick="showScreen('groups')">
                Browse All Groups
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="groups" class="screen">
        <div class="groups-container">
          <div class="groups-header">
            <h2>Available Groups</h2>
            <p class="groups-subtitle">Find a supportive community that fits your needs</p>
          </div>

          <div class="groups-grid" id="groups-grid">
            <div class="group-card">
              <div class="group-icon">üßò</div>
              <h3>Anxiety & Overthinking</h3>
              <p class="group-description">A supportive space to explore anxiety patterns, learn grounding techniques, and share experiences with others who understand the cycle of overthinking.</p>
              <div class="group-meta">
                <span class="meta-item">
                  <span class="meta-icon">üë•</span>
                  <span>6 seats per session</span>
                </span>
                <span class="meta-item">
                  <span class="meta-icon">‚è±Ô∏è</span>
                  <span>90 minutes</span>
                </span>
              </div>
              <div class="group-who">
                <strong>Who it's for:</strong>
                <p>People experiencing persistent worry, racing thoughts, or difficulty managing anxious feelings</p>
              </div>
              <button class="cta-button primary" onclick="viewGroup('anxiety-overthinking')">
                View Sessions
              </button>
            </div>

            <div class="group-card">
              <div class="group-icon">üíº</div>
              <h3>Workplace Stress & Burnout</h3>
              <p class="group-description">Navigate work-related challenges, build resilience, and develop healthy boundaries in a group of peers facing similar pressures.</p>
              <div class="group-meta">
                <span class="meta-item">
                  <span class="meta-icon">üë•</span>
                  <span>6 seats per session</span>
                </span>
                <span class="meta-item">
                  <span class="meta-icon">‚è±Ô∏è</span>
                  <span>90 minutes</span>
                </span>
              </div>
              <div class="group-who">
                <strong>Who it's for:</strong>
                <p>Professionals dealing with burnout, high-pressure environments, or work-life balance struggles</p>
              </div>
              <button class="cta-button primary" onclick="viewGroup('workplace-stress')">
                View Sessions
              </button>
            </div>

            <div class="group-card">
              <div class="group-icon">üå±</div>
              <h3>Grief & Life Transitions</h3>
              <p class="group-description">Process loss and navigate life changes with compassion and community support. This group honors all forms of grief and transition.</p>
              <div class="group-meta">
                <span class="meta-item">
                  <span class="meta-icon">üë•</span>
                  <span>6 seats per session</span>
                </span>
                <span class="meta-item">
                  <span class="meta-icon">‚è±Ô∏è</span>
                  <span>90 minutes</span>
                </span>
              </div>
              <div class="group-who">
                <strong>Who it's for:</strong>
                <p>Anyone experiencing loss, major life changes, or seeking support through difficult transitions</p>
              </div>
              <button class="cta-button primary" onclick="viewGroup('grief-transitions')">
                View Sessions
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="sessions" class="screen">
        <div class="sessions-container">
          <button class="back-button" onclick="showScreen('groups')">
            ‚Üê Back to Groups
          </button>
          
          <div class="sessions-header">
            <h2 id="sessions-group-name">Group Sessions</h2>
            <p class="sessions-subtitle">Select a session to book your seat</p>
          </div>

          <div class="sessions-list" id="sessions-list">
          </div>
        </div>
      </section>

      <section id="booking" class="screen">
        <div class="booking-container">
          <button class="back-button" onclick="showScreen('sessions')">
            ‚Üê Back to Sessions
          </button>

          <div class="booking-header">
            <h2>Book Your Seat</h2>
            <p class="booking-subtitle">Complete your booking for the selected session</p>
          </div>

          <div class="booking-summary">
            <div class="summary-item">
              <span class="summary-label">Group:</span>
              <span id="booking-group-name">Anxiety & Overthinking</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Date:</span>
              <span id="booking-date">Feb 10, 2026</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Time:</span>
              <span id="booking-time">6:00 PM</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Therapist:</span>
              <span id="booking-therapist">Dr. Sarah Chen</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Duration:</span>
              <span>90 minutes</span>
            </div>
          </div>

          <div class="booking-form">
            <div class="form-group">
              <label for="booking-name">Full Name *</label>
              <input type="text" id="booking-name" class="form-input" placeholder="Enter your name">
            </div>
            <div class="form-group">
              <label for="booking-email">Email Address *</label>
              <input type="email" id="booking-email" class="form-input" placeholder="Enter your email">
            </div>
          </div>

          <div class="booking-actions">
            <button class="cta-button primary" onclick="confirmBooking()">
              Confirm Booking
            </button>
            <button class="cta-button secondary" onclick="showScreen('sessions')">
              Cancel
            </button>
          </div>
        </div>
      </section>

      <section id="payment" class="screen">
        <div class="payment-container">
          <div class="payment-header">
            <h2>Confirm Your Booking</h2>
            <p class="payment-subtitle">This is a demo - no actual payment will be processed</p>
          </div>

          <div class="payment-summary">
            <div class="summary-card">
              <h3>Booking Summary</h3>
              <div class="summary-row">
                <span>Group Session</span>
                <span>Free (Demo)</span>
              </div>
              <div class="summary-row total">
                <span>Total</span>
                <span>$0.00</span>
              </div>
            </div>
          </div>

          <div class="payment-methods">
            <div class="payment-method selected">
              <span class="payment-icon">üí≥</span>
              <span>Credit Card (Demo)</span>
            </div>
          </div>

          <div class="payment-actions">
            <button class="cta-button primary" onclick="processPayment()">
              Complete Booking
            </button>
            <button class="cta-button secondary" onclick="showScreen('booking')">
              Back
            </button>
          </div>
        </div>
      </section>

      <section id="confirmation" class="screen">
        <div class="confirmation-container">
          <div class="confirmation-icon">‚úÖ</div>
          <h2>Booking Confirmed!</h2>
          <p class="confirmation-subtitle">Your seat has been reserved</p>

          <div class="confirmation-details">
            <div class="detail-item">
              <span class="detail-label">Booking ID:</span>
              <span id="confirmation-id" class="detail-value">BK1234567890</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Group:</span>
              <span id="confirmation-group" class="detail-value">Anxiety & Overthinking</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Date:</span>
              <span id="confirmation-date" class="detail-value">Feb 10, 2026</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Time:</span>
              <span id="confirmation-time" class="detail-value">6:00 PM</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Therapist:</span>
              <span id="confirmation-therapist" class="detail-value">Dr. Sarah Chen</span>
            </div>
          </div>

          <div class="confirmation-actions">
            <button class="cta-button primary" onclick="generateHandoff()">
              Generate Therapist Handoff
            </button>
            <button class="cta-button secondary" onclick="showScreen('landing')">
              Return Home
            </button>
          </div>
        </div>
      </section>

      <section id="handoff" class="screen">
        <div class="handoff-container">
          <button class="back-button" onclick="showScreen('confirmation')">
            ‚Üê Back to Confirmation
          </button>

          <div class="handoff-header">
            <h2>Therapist Handoff Report</h2>
            <p class="handoff-subtitle">Structured summary for session preparation</p>
          </div>

          <div class="handoff-content" id="handoff-content">
            <div class="handoff-section">
              <h3>Group Theme</h3>
              <p id="handoff-theme">Anxiety management and coping strategies</p>
            </div>

            <div class="handoff-section">
              <h3>Shared Goals</h3>
              <ul id="handoff-goals" class="handoff-list">
                <li>Develop practical coping mechanisms</li>
                <li>Build supportive peer connections</li>
              </ul>
            </div>

            <div class="handoff-section">
              <h3>Participant Summaries</h3>
              <div id="handoff-participants" class="participants-list">
                <div class="participant-card">
                  <h4>Current User</h4>
                  <p>Experiencing work-related anxiety, seeking grounding techniques</p>
                </div>
                <div class="participant-card">
                  <h4>Alex M.</h4>
                  <p>Managing work-related anxiety</p>
                </div>
                <div class="participant-card">
                  <h4>Jordan K.</h4>
                  <p>Coping with recent life changes</p>
                </div>
              </div>
            </div>

            <div class="handoff-section">
              <h3>Suggested Focus Areas</h3>
              <ul id="handoff-focus" class="handoff-list">
                <li>Grounding techniques for anxiety</li>
                <li>Building resilience</li>
              </ul>
            </div>

            <div class="handoff-section">
              <h3>Therapist Engagement Notes</h3>
              <p id="handoff-notes">Focus on creating a safe space for sharing. Encourage peer support while maintaining therapeutic boundaries.</p>
            </div>
          </div>

          <div class="handoff-actions">
            <button class="cta-button primary" onclick="downloadHandoffJSON()">
              Download JSON
            </button>
            <button class="cta-button secondary" onclick="downloadHandoffPDF()">
              Download PDF
            </button>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-content">
        <p>¬© 2026 Mentra. Demo platform for educational purposes only.</p>
        <p class="footer-disclaimer">This is not a medical system. AI recommendations are advisory only.</p>
      </div>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
